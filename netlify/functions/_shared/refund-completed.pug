doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    link(href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet")
    title Funkhaus Sports - Refund Completed
    style.
      /* Base styles */
      body {
        font-family: "Montserrat", Helvetica, Arial, sans-serif;
        line-height: 1.4;
        color: #1a1a1a;
        background-color: #f5f5f5;
        margin: 0;
        padding: 0;
      }
      
      /* Table reset */
      table {
        border-collapse: collapse;
        border-spacing: 0;
      }
      
      /* Main wrapper */
      .main-table {
        width: 100%;
        max-width: 600px;
        margin: 0 auto;
        background-color: #ffffff;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 2px 8px rgba(0,0,0,0.06);
      }
      
      /* Header */
      .header {
        background-color: #0f0f0f;
        text-align: center;
        padding: 20px 0;
      }
      
      /* Content area */
      .content {
        padding: 20px;
      }
      
      /* Success banner */
      .success-banner {
        background-color: #d1fae5;
        border: 1px solid #34d399;
        border-radius: 6px;
        padding: 15px;
        margin-bottom: 20px;
        text-align: center;
      }
      
      /* Details section */
      .details-box {
        background-color: #f9f9f9;
        border-radius: 6px;
        padding: 18px;
        margin: 20px 0;
      }
      
      /* Refund info */
      .refund-box {
        background-color: #d1fae5;
        border: 1px solid #34d399;
        border-radius: 6px;
        padding: 18px;
        margin: 20px 0;
      }
      
      /* Footer */
      .footer {
        text-align: center;
        font-size: 12px;
        color: #666;
        padding: 15px 0;
        border-top: 1px solid #f0f0f0;
      }
      
      .footer a {
        color: #0f0f0f;
        text-decoration: none;
        font-weight: 500;
      }
  body(style="margin:0;padding:15px;background-color:#f5f5f5;")
    table.main-table(cellpadding="0" cellspacing="0" border="0" width="100%" style="max-width:600px;margin:0 auto;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,0.06);")
      //- Header
      tr
        td.header(align="center" bgcolor="#0f0f0f" style="padding:20px 0;")
          img.logo(src="https://funkhaus-sports.netlify.app/logo-light.png" alt="Funkhaus" style="height:60px;width:auto;")
      
      //- Content
      tr
        td.content(style="padding:20px;background-color:#ffffff;")
          //- Greeting
          p(style="font-size:14px;margin:0 0 20px;color:#666;") Hello #{customer.name},
          
          //- Success message
          table(cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-bottom:20px;")
            tr
              td(style="background-color:#d1fae5;border:1px solid #34d399;border-radius:6px;padding:24px;text-align:center;")
                h1(style="font-size:20px;font-weight:600;margin:0 0 12px;color:#0f0f0f;") ✓ Refund Completed
                div(style="font-size:15px;color:#333;margin-bottom:8px;") Your refund has been successfully processed
                div(style="font-size:14px;color:#666;") Funds should now be available in your account
          
          //- Booking details
          table(cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-bottom:20px;")
            tr
              td(style="background-color:#f9f9f9;border-radius:6px;padding:18px;")
                h2(style="font-size:16px;font-weight:600;margin:0 0 12px;color:#0f0f0f;") Original Booking Details
                
                table(cellpadding="0" cellspacing="0" border="0" width="100%" style="font-size:14px;")
                  tr
                    td(style="padding:4px 0;color:#666;") Booking Number:
                    td(align="right" style="padding:4px 0;color:#333;font-weight:500;") ##{orderNumber || invoiceNumber || bookingId}
                  tr
                    td(style="padding:4px 0;color:#666;") Date:
                    td(align="right" style="padding:4px 0;color:#333;font-weight:500;") #{booking.date}
                  tr
                    td(style="padding:4px 0;color:#666;") Time:
                    td(align="right" style="padding:4px 0;color:#333;font-weight:500;") #{timeDisplay}
                  tr
                    td(style="padding:4px 0;color:#666;") Court:
                    td(align="right" style="padding:4px 0;color:#333;font-weight:500;") #{booking.court}
                  tr
                    td(style="padding:4px 0;color:#666;") Venue:
                    td(align="right" style="padding:4px 0;color:#333;font-weight:500;") #{booking.venue}
          
          //- Refund confirmation
          table(cellpadding="0" cellspacing="0" border="0" width="100%" style="margin-bottom:20px;")
            tr
              td(style="background-color:#d1fae5;border:1px solid #34d399;border-radius:6px;padding:24px;")
                h2(style="font-size:18px;font-weight:600;margin:0 0 16px;color:#0f0f0f;text-align:center;") Refund Confirmation
                
                table(cellpadding="0" cellspacing="0" border="0" width="100%" style="font-size:14px;")
                  tr
                    td(colspan="2" align="center" style="padding:8px 0;")
                      span(style="font-size:24px;font-weight:600;color:#0f0f0f;") €#{refund.amount}
                      br
                      span(style="font-size:12px;color:#666;margin-top:4px;display:inline-block;") Refunded to your original payment method
                  
                  tr
                    td(colspan="2" align="center" style="padding:12px 0 0;border-top:1px solid #34d399;")
                      span(style="color:#666;font-size:12px;") Reference ID: 
                      span(style="font-weight:500;font-size:12px;") #{refund.id}
          
          //- Thank you message
          p(style="font-size:14px;color:#333;margin:20px 0;text-align:center;")
            | Thank you for your understanding.
            br
            | We hope to see you again soon!
          
      
      //- Footer
      tr
        td(align="center" style="padding:15px 0;text-align:center;font-size:12px;color:#666;border-top:1px solid #f0f0f0;background-color:#ffffff;")
          | © #{new Date().getFullYear()} Funkhaus Sports GmbH
          br
          | Nalepastrasse 18, 12459 Berlin, Germany