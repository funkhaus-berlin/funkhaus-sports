doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport" content="width=device-width, initial-scale=1.0")
    title Booking Confirmation
    style.
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        background-color: #f9f9f9;
        margin: 0;
        padding: 0;
      }
      .container {
        max-width: 600px;
        margin: 0 auto;
        padding: 20px;
        background-color: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      .header {
        text-align: center;
        padding: 20px 0;
        border-bottom: 1px solid #eee;
      }
      .logo {
        max-width: 150px;
        height: auto;
      }
      .booking-details {
        margin: 30px 0;
      }
      h1 {
        color: #5e808e;
        font-size: 24px;
        margin-bottom: 20px;
      }
      h2 {
        color: #5e808e;
        font-size: 20px;
        margin-top: 30px;
        margin-bottom: 10px;
        border-bottom: 1px solid #eee;
        padding-bottom: 10px;
      }
      table {
        width: 100%;
        border-collapse: collapse;
      }
      table tr td {
        padding: 8px 12px;
      }
      table tr:nth-child(even) {
        background-color: #f2f7fa;
      }
      .label {
        font-weight: bold;
        width: 40%;
        vertical-align: top;
      }
      .price-table {
        margin-top: 20px;
        width: 100%;
        border-collapse: collapse;
      }
      .price-table th {
        background-color: #5e808e;
        color: white;
        text-align: left;
        padding: 10px;
      }
      .price-table tr td {
        padding: 10px;
        border-bottom: 1px solid #eee;
      }
      .price-table tr.total {
        font-weight: bold;
        background-color: #f2f7fa;
      }
      .footer {
        margin-top: 30px;
        text-align: center;
        padding-top: 20px;
        border-top: 1px solid #eee;
        font-size: 14px;
        color: #777;
      }
      .button {
        display: inline-block;
        background-color: #5e808e;
        color: white;
        padding: 12px 25px;
        text-decoration: none;
        border-radius: 4px;
        margin-top: 20px;
        font-weight: bold;
      }
      .map-link {
        color: #5e808e;
        text-decoration: none;
      }
      .map-link:hover {
        text-decoration: underline;
      }
      @media only screen and (max-width: 600px) {
        .container {
          width: 100%;
          border-radius: 0;
        }
      }

  body
    div.container
      div.header
        if venue && venue.theme && venue.theme.logo
          img.logo(src=venue.theme.logo alt="Funkhaus Sports Logo")
        else
          img.logo(src="https://funkhausevents.netlify.app/logo.png" alt="Funkhaus Sports Logo")
        h1 Your Court Booking is Confirmed!

      div.booking-details
        p Hi #{customer.name},
        
        p Thank you for booking with Funkhaus Sports. Your court reservation has been confirmed. Please find your booking details below:
        
        h2 Court Details
        table
          tr
            td.label Court
            td #{booking.court} (#{booking.courtType})
          tr
            td.label Venue
            td #{booking.venue}
          if venue && venue.address
            tr
              td.label Address
              td 
                | #{venue.address.street}, #{venue.address.city}, #{venue.address.postalCode}
                br
                | #{venue.address.country}
                br
                a.map-link(href=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(venue.address.street + ', ' + venue.address.city + ', ' + venue.address.postalCode)}` target="_blank") View on Google Maps
                
        h2 Booking Details
        table
          tr
            td.label Date
            td #{booking.date}
          tr
            td.label Time
            td #{booking.startTime} - #{booking.endTime}
          tr
            td.label Duration
            td #{booking.duration}
          
        h2 Price Information
        table.price-table
          thead
            tr
              th Item
              th Price
          tbody
            tr
              td Court Booking (Net)
              td €#{booking.vatInfo.netAmount}
            tr
              td VAT (#{booking.vatInfo.vatRate})
              td €#{booking.vatInfo.vatAmount}
            tr.total
              td Total
              td €#{booking.price}
        
        h2 Getting Ready
        p Here are a few tips to prepare for your visit:
        ul
          li Arrive at least 10 minutes before your scheduled time
          li Bring appropriate sports shoes and attire
          li Water is available at the venue, but we recommend bringing your own bottle
          li Check in at the reception desk upon arrival and show your booking confirmation
        
        div(style="text-align: center; margin-top: 30px;")
          a.button(href=`https://funkhaus-berlin.net/booking/confirmation?id=${booking.id}` target="_blank") View Booking Online

      div.footer
        p If you have any questions or need to modify your booking, please contact us at:
        if venue && venue.contactEmail
          p 
            a(href=`mailto:${venue.contactEmail}`) #{venue.contactEmail}
        else
          p 
            a(href="mailto:booking@funkhaus-sports.com") booking@funkhaus-sports.com
            
        if venue && venue.contactPhone
          p Phone: #{venue.contactPhone}
        
        p &copy; #{new Date().getFullYear()} Funkhaus Sports. All rights reserved.
